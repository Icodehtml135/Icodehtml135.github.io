<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>UK Mission Dashboard PRO ğŸ‡¬ğŸ‡§</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin:0;
  font-family:Segoe UI, sans-serif;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:white;
  text-align:center;
}

.light-mode {
  background:#f5f5f5;
  color:#222;
}
.light-mode .card {
  background:rgba(0,0,0,0.05);
}

.hidden { display:none; }

.container { max-width:1000px; margin:auto; padding:20px; }

.card {
  background:rgba(255,255,255,0.1);
  padding:20px;
  margin:20px 0;
  border-radius:15px;
  backdrop-filter:blur(10px);
}

input,button,select {
  padding:8px;
  border-radius:8px;
  border:none;
  margin:5px;
}

button { cursor:pointer; font-weight:bold; }

.progress-bar {
  background:rgba(255,255,255,0.2);
  height:20px;
  border-radius:10px;
  overflow:hidden;
}

.progress-fill {
  height:100%;
  width:0%;
  background:#00ff88;
  transition:0.4s;
}

.task-row {
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:5px 0;
  background:rgba(255,255,255,0.15);
  padding:8px;
  border-radius:8px;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginScreen" class="container">
<div class="card">
<h1>ğŸ” UK Mission PRO Access</h1>
<input type="password" id="passwordInput" placeholder="Password">
<button onclick="login()">Enter</button>
<p id="error" style="color:#ff6b6b;"></p>
</div>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="hidden">

<div style="text-align:right; padding:10px;">
<button onclick="toggleTheme()">ğŸŒ™ Theme</button>
<button onclick="logout()" style="background:#ff4d4d;">Sign Out</button>
</div>

<h1>ğŸ‡¬ğŸ‡§ UK Mission Dashboard PRO</h1>

<div class="container">

<!-- COUNTDOWN -->
<div class="card">
<h2>ğŸ“… Move Countdown</h2>
<input type="date" id="moveDate">
<button onclick="setDate()">Set</button>
<h3 id="countdown"></h3>
</div>

<!-- TASK MANAGER -->
<div class="card">
<h2>ğŸ“ Mission Tasks</h2>
<input type="text" id="taskInput" placeholder="Add task">
<select id="roleSelect">
<option value="All">All</option>
<option value="Parent">Parent</option>
<option value="Ishan">Ishan</option>
</select>
<button onclick="addTask()">Add</button>
<button onclick="clearCompleted()">Clear Completed</button>

<div id="taskList"></div>

<h3 id="taskCounter"></h3>

<div class="progress-bar">
<div id="progressFill" class="progress-fill"></div>
</div>
<p id="progressText"></p>
<h3 id="missionStatus"></h3>
</div>

<!-- BUDGET -->
<div class="card">
<h2>ğŸ’° Budget Tracker (Â£)</h2>
<input type="number" id="budgetInput" placeholder="Add expense">
<button onclick="addExpense()">Add</button>
<h3>Total: Â£<span id="totalBudget">0</span></h3>
</div>

<!-- HOUSE TRACKER -->
<div class="card">
<h2>ğŸ  House Hunting</h2>
<input type="text" id="houseInput" placeholder="Add property address">
<button onclick="addHouse()">Add</button>
<ul id="houseList"></ul>
</div>

<!-- VISA TRACKER -->
<div class="card">
<h2>ğŸ“„ Visa Progress</h2>
<select id="visaStage" onchange="saveVisa()">
<option>Researching</option>
<option>Documents Ready</option>
<option>Applied</option>
<option>Approved</option>
</select>
<h3 id="visaStatus"></h3>
</div>

</div>
</div>

<script>

// LOGIN
const password="UK786";

function login(){
  if(document.getElementById("passwordInput").value===password){
    localStorage.setItem("auth","true");
    showDashboard();
  }else{
    document.getElementById("error").innerText="Wrong password!";
  }
}

function logout(){
  localStorage.removeItem("auth");
  location.reload();
}

function showDashboard(){
  document.getElementById("loginScreen").style.display="none";
  document.getElementById("dashboard").classList.remove("hidden");
}

if(localStorage.getItem("auth")==="true") showDashboard();

// THEME
function toggleTheme(){
  document.body.classList.toggle("light-mode");
}

// COUNTDOWN
let moveDate=localStorage.getItem("moveDate");

function setDate(){
  moveDate=document.getElementById("moveDate").value;
  localStorage.setItem("moveDate",moveDate);
  updateCountdown();
}

function updateCountdown(){
  if(!moveDate) return;
  let diff=new Date(moveDate)-new Date();
  let days=Math.ceil(diff/(1000*60*60*24));
  document.getElementById("countdown").innerText=
    days>0?days+" days to UK ğŸ‡¬ğŸ‡§":"Welcome to UK ğŸ‰";
}
updateCountdown();

// TASKS
let tasks=JSON.parse(localStorage.getItem("tasks"))||[];

function saveTasks(){
  localStorage.setItem("tasks",JSON.stringify(tasks));
}

function addTask(){
  let text=document.getElementById("taskInput").value;
  let role=document.getElementById("roleSelect").value;
  if(!text) return;
  tasks.push({text,done:false,role});
  document.getElementById("taskInput").value="";
  renderTasks();
}

function renderTasks(){
  let list=document.getElementById("taskList");
  list.innerHTML="";
  tasks.forEach((t,i)=>{
    let row=document.createElement("div");
    row.className="task-row";

    let span=document.createElement("span");
    span.innerText=t.text+" ("+t.role+")";
    if(t.done) span.style.textDecoration="line-through";
    span.onclick=()=>{tasks[i].done=!tasks[i].done;renderTasks();};

    let del=document.createElement("button");
    del.innerText="âŒ";
    del.onclick=()=>{tasks.splice(i,1);renderTasks();};

    row.appendChild(span);
    row.appendChild(del);
    list.appendChild(row);
  });

  document.getElementById("taskCounter").innerText="Total Tasks: "+tasks.length;
  updateProgress();
  saveTasks();
}

function clearCompleted(){
  tasks=tasks.filter(t=>!t.done);
  renderTasks();
}

function updateProgress(){
  if(tasks.length===0) return;
  let done=tasks.filter(t=>t.done).length;
  let percent=Math.round(done/tasks.length*100);
  document.getElementById("progressFill").style.width=percent+"%";
  document.getElementById("progressText").innerText=percent+"% Complete";

  let status=document.getElementById("missionStatus");
  if(percent<30) status.innerText="ğŸš§ Starting";
  else if(percent<70) status.innerText="âš¡ In Progress";
  else if(percent<100) status.innerText="ğŸ”¥ Almost Ready";
  else status.innerText="ğŸ‰ Mission Complete!";
}
renderTasks();

// BUDGET
let total=localStorage.getItem("budget")||0;
document.getElementById("totalBudget").innerText=total;

function addExpense(){
  let val=parseInt(document.getElementById("budgetInput").value);
  if(!val) return;
  total=parseInt(total)+val;
  localStorage.setItem("budget",total);
  document.getElementById("totalBudget").innerText=total;
  document.getElementById("budgetInput").value="";
}

// HOUSE
let houses=JSON.parse(localStorage.getItem("houses"))||[];

function addHouse(){
  let h=document.getElementById("houseInput").value;
  if(!h) return;
  houses.push(h);
  localStorage.setItem("houses",JSON.stringify(houses));
  renderHouses();
  document.getElementById("houseInput").value="";
}

function renderHouses(){
  let list=document.getElementById("houseList");
  list.innerHTML="";
  houses.forEach((h,i)=>{
    let li=document.createElement("li");
    li.innerText=h;
    li.onclick=()=>{houses.splice(i,1);localStorage.setItem("houses",JSON.stringify(houses));renderHouses();};
    list.appendChild(li);
  });
}
renderHouses();

// VISA
let visa=localStorage.getItem("visa")||"Researching";
document.getElementById("visaStage").value=visa;
document.getElementById("visaStatus").innerText="Current Stage: "+visa;

function saveVisa(){
  visa=document.getElementById("visaStage").value;
  localStorage.setItem("visa",visa);
  document.getElementById("visaStatus").innerText="Current Stage: "+visa;
}

</script>
</body>
</html>
