<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Private UK Mission Dashboard ğŸ‡¬ğŸ‡§</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    color: white;
    text-align: center;
}

.hidden {
    display: none;
}

.container {
    max-width: 1000px;
    margin: auto;
    padding: 20px;
}

.card {
    background: rgba(255,255,255,0.1);
    margin: 20px 0;
    padding: 20px;
    border-radius: 15px;
    backdrop-filter: blur(12px);
}

input, button {
    padding: 10px;
    border-radius: 8px;
    border: none;
    margin: 5px;
}

button {
    background: #00c6ff;
    color: white;
    font-weight: bold;
    cursor: pointer;
}

button:hover {
    background: #0072ff;
}

.progress-bar {
    background: rgba(255,255,255,0.2);
    border-radius: 10px;
    overflow: hidden;
    height: 25px;
}

.progress-fill {
    height: 100%;
    background: #00ff88;
    width: 0%;
    transition: width 0.4s ease;
}
</style>
</head>

<body>

<!-- ğŸ” LOGIN SCREEN -->
<div id="loginScreen" class="container">
    <div class="card">
        <h1>ğŸ” Private UK Mission Access</h1>
        <p>Enter family password</p>
        <input type="password" id="passwordInput" placeholder="Password">
        <button onclick="checkPassword()">Enter</button>
        <p id="errorMessage" style="color: #ff6b6b;"></p>
    </div>
</div>

<!-- ğŸ‡¬ğŸ‡§ MAIN DASHBOARD -->
<div id="dashboard" class="hidden">

<header>
<h1>ğŸ‡¬ğŸ‡§ UK Family Mission Dashboard</h1>
<button onclick="logout()" style="position:absolute; top:20px; right:20px; background:#ff4d4d;">
ğŸ”“ Sign Out
</button>
</header>
<div class="container">

<div class="card">
<h2>ğŸ“… Move Countdown</h2>
<input type="date" id="moveDate">
<button onclick="setDate()">Set Date</button>
<h3 id="countdown"></h3>
</div>

<div class="card">
<h2>ğŸ“ Mission Checklist</h2>
<input type="text" id="taskInput" placeholder="Add task">
<button onclick="addTask()">Add</button>
<ul id="taskList"></ul>

<h3>Mission Progress</h3>
<div class="progress-bar">
<div class="progress-fill" id="progressFill"></div>
</div>
<p id="progressText">0% Complete</p>
</div>

</div>
</div>

<script>

// ğŸ” CHANGE THIS PASSWORD
const correctPassword = "UK786";  // <-- change this

function checkPassword() {
    const input = document.getElementById("passwordInput").value;
    if (input === correctPassword) {
        document.getElementById("loginScreen").style.display = "none";
        document.getElementById("dashboard").classList.remove("hidden");
        localStorage.setItem("authenticated", "true");
    } else {
        document.getElementById("errorMessage").innerText = "Wrong password!";
    }
}

// Keep logged in
if (localStorage.getItem("authenticated") === "true") {
    document.getElementById("loginScreen").style.display = "none";
    document.getElementById("dashboard").classList.remove("hidden");
}

// --- Dashboard Logic ---
let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
let moveDate = localStorage.getItem("moveDate");

function saveData() {
    localStorage.setItem("tasks", JSON.stringify(tasks));
    localStorage.setItem("moveDate", moveDate);
}

function setDate() {
    moveDate = document.getElementById("moveDate").value;
    saveData();
    updateCountdown();
}

function updateCountdown() {
    if (!moveDate) return;
    const diff = new Date(moveDate) - new Date();
    const days = Math.ceil(diff / (1000*60*60*24));
    document.getElementById("countdown").innerText =
        days > 0 ? days + " days to UK ğŸ‡¬ğŸ‡§" : "Welcome to the UK! ğŸ‰";
}

function addTask() {
    const input = document.getElementById("taskInput");
    if (!input.value) return;
    tasks.push({ text: input.value, done: false });
    input.value = "";
    renderTasks();
}

function renderTasks() {
    const list = document.getElementById("taskList");
    list.innerHTML = "";

    tasks.forEach((task, index) => {
        const li = document.createElement("li");
        li.style.display = "flex";
        li.style.justifyContent = "space-between";
        li.style.alignItems = "center";

        const span = document.createElement("span");
        span.textContent = task.text;
        if (task.done) span.style.textDecoration = "line-through";

        span.onclick = () => {
            tasks[index].done = !tasks[index].done;
            renderTasks();
        };

        const deleteBtn = document.createElement("button");
        deleteBtn.textContent = "âŒ";
        deleteBtn.style.background = "#ff4d4d";
        deleteBtn.style.padding = "5px 10px";
        deleteBtn.onclick = () => {
            tasks.splice(index, 1);
            renderTasks();
        };

        li.appendChild(span);
        li.appendChild(deleteBtn);
        list.appendChild(li);
    });

    updateProgress();
    saveData();
}

function updateProgress() {
    if (tasks.length === 0) return;
    const completed = tasks.filter(t => t.done).length;
    const percent = Math.round((completed / tasks.length) * 100);
    document.getElementById("progressFill").style.width = percent + "%";
    document.getElementById("progressText").innerText = percent + "% Complete";
}

renderTasks();
updateCountdown();

</script>

</body>
</html>
